include "104.mayu"

# mouse event activation
def option mouse-event = true

# Happy Hacking Keyboard (HHK) key definition {{{
def key LD = 0x7b
def key RD = 0x79
# }}}

keymap Global #{{{

  # control, capslock, windows, esc {{{
  #mod shift += !!!Space
  mod control += CapsLock
  key *CapsLock = *LControl
  mod control += E0CapsLock
  key *E0CapsLock = *LControl
  #key *LCtrl = $CapsLock
  key *NumLock = $CapsLock
  key *Apps = $CapsLock
  #key LWin =
  #key *LWin = $CapsLock
  key *RWin = $CapsLock
  # }}}
 
  # mouse {{{

  # use yammy's function
  # vim like moving with keys yuio (keys on the hjkl)
  key A-C-y = &MouseMove(-20, 0)
  key A-C-u = &MouseMove(0, 20)
  key A-C-i = &MouseMove(0, -20)
  key A-C-o = &MouseMove(20, 0)
  key CL-y = &MouseMove(-20, 0)
  key CL-u = &MouseMove(0, 20)
  key CL-i = &MouseMove(0, -20)
  key CL-o = &MouseMove(20, 0)
  key A-S-y = &WindowMove(-20, 0)
  key A-S-u = &WindowMove(0, 20)
  key A-S-i = &WindowMove(0, -20)
  key A-S-o = &WindowMove(20, 0)
  key CL-A-y = &WindowMove(-20, 0)
  key CL-A-u = &WindowMove(0, 20)
  key CL-A-i = &WindowMove(0, -20)
  key CL-A-o = &WindowMove(20, 0)

  # click
  key A-C-n = LButton
  key A-C-p = RButton
  key CL-*A-n = LButton
  key CL-*A-p = RButton
  key CL-*A-Semicolon = RButton

  # For putty, pasete by right click
  key A-v = RButton
 
  # mouse wheel
  key A-C-m = &MouseWheel(-520)
  key A-C-comma = &MouseWheel(520)
  key CL-m = &MouseWheel(-520)
  key CL-comma = &MouseWheel(520)
  key A-S-m = &MouseWheel(-120)
  key A-S-comma = &MouseWheel(120)
  # }}}
 
  # vim like arrow {{{
  key A-C-h = Left
  key A-C-j = Down
  key A-C-k = Up
  key A-C-l = Right
  key CL-*C-*A-h = Left
  key CL-*C-*A-j = Down
  key CL-*C-*A-k = Up
  key CL-*C-*A-l = Right
  # }}}
 
  # other basic settings {{{
  key C-h = BS                  # Always BS with C-h
  key A-C-a = A-Space n         # Minimize window
  key A-_4 = A-F4               # Close window
  #key A-*C-e = Esc              # A-e to ESC
  #key C-S-e = Esc               # C-S-e to ESC
  key C-LeftSquareBracket = Esc # Always C-[ to ESC, like vim
  key A-d = Delete              # Always Delete with A-d
  #key C-o = A-Left              # Go to previous page
  #key C-i = A-Right             # Go to nexe page
  key A-C-f = LWIN              # Push Start button, can start search directly
  key C-Space = A-GraveAccent   # Unix like IME

  # For HHK
  # ESC to ` like normal keyboard (ESC is placed on the left of 1 in HHK)
  #key Esc = GraveAccent
  #key S-Esc = S-GraveAccent
  key A-Esc = A-GraveAccent     # IME
  key A-_1 = A-GraveAccent      # IME
  key A-Space = A-GraveAccent   # IME

  key A-C-BS = W-l              # Go to login window, for HHK (no Win key)
  key A-_0 = W-l                # Go to login window, for HHK (no Win key)

  # Left Meta key to Alt (at SW5=Off)
  mod alt += LD
  key *LD = *LAlt

  # Right Meta key to Win key
  mod Windows += RD
  key *RD = *RWindows
  # }}}

  # Volume {{{
  # Volume 0
  #key C-F3 = VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown VolumeDown
  # Volume Max
  #key C-F4 = VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp VolumeUp
  # }}}

# }}}

# Vim mode {{{
keymap Vim : Global

  # toggles {{{

  # Enter vim normal mode
  key Esc = &Toggle(Lock0,on)
  key C-LeftSquareBracket =  &Toggle(Lock0,on)

  # Enter vim insert mode
  key L0-i = &Toggle(Lock0,off)
  key L0-S-i = &Toggle(Lock0,off) Home
  key L0-a = &Toggle(Lock0,off) Right
  key L0-S-a = &Toggle(Lock0,off) End
  key L0-o = &Toggle(Lock0,off) Down Home Enter Up
  key L0-O = &Toggle(Lock0,off) Up End Enter Up
  key L0-C = &Toggle(Lock0,off) S-End C-x
  # }}} toggles

  # Move {{{
  key L0-*C-h = Left
  key L0-*C-j = Down
  key L0-*C-k = Up
  key L0-*C-l = Right
  key L0-*C-_0 = Home
  #key L0-*C-$DOLLAR_SIGN = End
  key L0-*C-_4 = End
  key L0-*C-a = Home # emacs like
  key L0-*C-e = End  # emacs like
  key L0-*C-u = PageUp PageUp PageUp PageUp PageUp PageUp PageUp PageUp PageUp PageUp
  key L0-*C-d = PageDown PageDown PageDown PageDown PageDown PageDown PageDown PageDown PageDown PageDown
  key L0-*C-f = PageUp
  key L0-*C-b = End
  # }}}

  # Copy/Cut/Paste {{{
  key L0-p = Right C-v
  key L0-p = C-v
  key L0-y = Home S-End C-C End &Toggle(Lock1,on)

  # Line copy/cut mode {{{
  key L0-y = &Toggle(Lock1,on) # for y*
  key L1-y = Home S-End C-c &Toggle(Lock1,off) # yy
  key L1-S-_4 = S-End C-c &Toggle(Lock1,off) # y$
  key L1-_0 = S-C-Home C-c &Toggle(Lock1,off) # y0
  key L1-w = S-C-Right C-c &Toggle(Lock1,off) # yw
  key L0-S-y = &Toggle(Lock1,on) y &Toggle(Lock1,off) # Y
  key L1-Esc = &Toggle(Lock1,off) # exit
  key L1-C-LeftSquareBracket =  &Toggle(Lock1,off) # exit

  key L0-d = &Toggle(Lock2,on) # for d*
  key L2-d = Home S-End C-x &Toggle(Lock2,off) # dd
  key L2-S-_4 = S-End C-x &Toggle(Lock2,off) # d$
  key L2-_0 = S-C-Home C-x &Toggle(Lock2,off) # d0
  key L2-w = S-C-Right C-c &Toggle(Lock2,off) # dw
  key L0-S-d = &Toggle(Lock2,on) S-End C-x&Toggle(Lock2,off) # D
  key L2-Esc = &Toggle(Lock2,off) # exit
  key L2-C-LeftSquareBracket =  &Toggle(Lock2,off) # exit

  key L0-c = &Toggle(Lock3,on) # for c*
  key L3-c = Home S-End C-x &Toggle(Lock3,off) &Toggle(Lock0,off) # cc
  key L3-S-_4 = S-End C-x &Toggle(Lock3,off) &Toggle(Lock0,off) # d$
  key L3-_0 = S-C-Home C-x &Toggle(Lock3,off) &Toggle(Lock0,off) # d0
  key L3-w = S-C-Right C-x &Toggle(Lock3,off) &Toggle(Lock0,off) # dw
  key L3-S-d = &Toggle(Lock3,on) S-End C-x&Toggle(Lock3,off) &Toggle(Lock0,off) # D
  key L3-Esc = &Toggle(Lock3,off) # exit
  key L3-C-LeftSquareBracket =  &Toggle(Lock3,off) # exit
  # }}}

  # Undo/Redo {{{
  key L0-u = C-z
  key L0-S-r = C-y
  # }}}

#}}}


#}}} Vim mode

# For explorer {{{
window powerpnt /Explorer.EXE*/ : Global
 key C-o = A-Left
 key C-i = A-Right
# }}}

# For powerpoint {{{
window powerpnt /POWERPNT.EXE*/ : Global
 # key C-Space = Right S-Left C-Space
 key C-Space = Right S-Left
 key C-Equal = C-t b Enter
 key C-S-Equal = C-t p Enter
 key C-S-s = C-t f s y m b o l Enter
 key C-S-a = C-t f a r i a l Enter
 key C-S-h = C-t f h e l v e t i c a Enter
# }}}

# For word {{{
window winword /WINWORD.EXE*/ : Global
 key C-Equal = C-d b Enter
 key C-S-Equal = C-d p Enter
# }}}

# For edit control {{{
window EditControl /:Edit$ : Global
 key C-h = BS
# }}}

# For magic formation {{{
window magicf /MagicFormation*/ : Global
 key CL-h = Left
 key CL-j = Down
 key CL-k = Up
 key CL-l = Right
# }}}

# For firefox + thunderbird {{{
window ThunderBird /MozillaWindowClass$/ : Global
 #For mozilla with CL
 key *CL-d = d
# }}}

# For thunderbird {{{
window Tunderbird /thunderbird\.exe/ : Vim
# key C-h = BS
# Vim mode in ThunderBird

# }}}

# For note pad {{{
# C:\Windows\system32\notepad.exe:Notepad:Edit
window Notepad /:Notepad:Edit$/ : Vim
# use Vim mode in Note pad
#}}}

# For synergy {{{
window synergy /Synergy/ : Global
 key A-Esc = A-GraveAccent
 key A-C-h = Left
 key A-C-j = Down
 key A-C-k = Up
 key A-C-l = Right
# }}}

# For input director {{{
window inputdirector /InputDirector/ : Global
 key A-Esc = A-GraveAccent
 key A-C-h = Left
 key A-C-j = Down
 key A-C-k = Up
 key A-C-l = Right
# }}}

# For Gvim {{{
#	C:\Program Files\vim\gvim.exe:Vim:VimTextArea
window Vim /:Vim:VimTextArea$/ : Global
  key A-v = $QUOTATION_MARK $PLUS_SIGN g S-p
# }}}

# Return to all mode
keymap Global

# local
##window size
#key C-A-Enter = &WindowMoveTo(NW,5,10) &WindowResizeTo(1360,880)
#key C-A-S-Enter = &WindowMoveTo(NW,5,10) &WindowResizeTo(1000,680)
#key A-S-h = &WindowMoveTo(NW,5,10) &WindowResizeTo(680,880)
#key A-S-l = &WindowMoveTo(NW,685,10) &WindowResizeTo(680,880)
#key A-S-k = &WindowMoveTo(NW,5,10) &WindowResizeTo(1350,440)
#key A-S-j = &WindowMoveTo(NW,5,450) &WindowResizeTo(1350,440)
include ".local.mayu"
